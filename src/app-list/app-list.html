<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower_components/iron-demo-helpers/demo-snippet.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">

<dom-module id="app-list">
  <template>
    <custom-style>
      <style is="custom-style" include="demo-pages-shared-styles">
        paper-listbox {}

        paper-item {
          cursor: pointer;
          background-color: var(--accent-color);
          color: #ffffff;
        }

        h3 {
          color: #ffffff;
          text-align: center;
        }

        .app-section-list {
          height: 100vh;
          background: #303350;
          width: 20vw;
          overflow: auto;

        }

        @media only screen and (max-width: 768px) {
          .app-section-list {
            flex: 1;
            overflow: auto;
            display: flex;
            height: 4em;
            flex-direction: row;
            width: 100%;
            margin-top: 1em;
          }
        }
      </style>
    </custom-style>

    <section class="app-section-list">
      <h3>My contacts</h3>

      <template is="dom-repeat" items="[[contacts]]"  as="contact">
        <paper-item index="[[contact.index]]" on-tap="_getContant">[[contact.name]]</paper-item>
      </template>
      

    </section>

  </template>

  <script>
    /**
     * `agent2-0`
     * 
     *
     * @App Create
     * @polymer
     * @demo demo/index.html
     */
    class AppList extends Polymer.Element {

      static get is() { return 'app-list'; }

      static get properties() {
        return {
          contacts: {
            type: Array,
            value: []
          }
        }
      }

      connectedCallback() { }

      _getContant(event){
        this.dispatchEvent(new CustomEvent('index-changed', {
          bubbles:true, 
          composed:true, 
          detail:event.currentTarget.index
        }));
        
      }

    }

    window.customElements.define(AppList.is, AppList);
  </script>
</dom-module>